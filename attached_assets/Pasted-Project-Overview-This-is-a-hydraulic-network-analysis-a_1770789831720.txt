Project Overview
This is a hydraulic network analysis application (HL012) that currently allows users to create network diagrams and generate .INP input files. We need to add the capability to process these .INP files using the WHAMO (Water Hammer and Mass Oscillation) engine to generate .OUT output files.
Current State

✅ Visual network diagram builder with nodes, conduits, and elements
✅ "Generate .INP" button that creates WHAMO input files
✅ Network elements include: Reservoirs (HW), Conduits (C1-C15), Junctions, Surge Tanks (ST), Flow Boundary Conditions (FB1-FB4), and Dummy elements (D1-D3)

Required Feature: Add "Generate .OUT" Button
1. UI Requirements
Location: Add a new button to the right of the existing "Generate .INP" button in the top toolbar
Button Specifications:

Label: "Generate .OUT"
Style: Match the existing "Generate .INP" button design
Position: Immediately adjacent to the right of "Generate .INP" button
Icon (optional): Download or processing icon to indicate output generation

2. Functional Requirements
Backend Integration with WHAMO.EXE
The WHAMO.EXE executable (provided in project files) is a hydraulic transient analysis engine that processes .INP files and generates .OUT files.
Process Flow:

User clicks "Generate .OUT" button
System retrieves the current network diagram state
System automatically generates a temporary .INP file from the current network
System executes WHAMO.EXE with the .INP file as input
WHAMO.EXE processes the hydraulic analysis and produces a .OUT file
System captures the .OUT file output
System triggers automatic download of the .OUT file to the user's computer
(Optional) Display success/error notification to user

Technical Implementation Options
Option A: Server-Side Execution (Recommended if possible)

Upload WHAMO.EXE to the server environment
Execute WHAMO.EXE via child process or system call
Pass .INP file path as command-line argument
Capture .OUT file from output directory
Stream .OUT file to client for download

Option B: Client-Side Execution (If server execution not possible)

Investigate using WebAssembly or similar technology to run the executable
Alternative: Provide API endpoint that accepts .INP content and returns .OUT content

Option C: Hybrid Approach

Keep WHAMO.EXE on server
Create API endpoint: POST /api/generate-out
Endpoint accepts .INP file content or current network state
Server runs WHAMO.EXE and returns .OUT file

3. Input File Format (.INP)
The .INP file should be generated from the current network state with the following sections:
c Project Name
C SYSTEM CONNECTIVITY

SYSTEM
[Element definitions: ELEM, JUNCTION, NODE entries]

FINISH

C ELEMENT PROPERTIES
[RESERVOIR, CONDUIT, SURGETANK, FLOWBC definitions]

SCHEDULE
[Q-SCHEDULE definitions for flow boundary conditions]

FINISH

C OUTPUT REQUEST
HISTORY
[Output requests for nodes and elements]
FINISH

C COMPUTATIONAL PARAMETERS
CONTROL
[DTCOMP, DTOUT, TMAX parameters]
FINISH

C EXECUTION CONTROL
GO
GOODBYE
4. Output File Format (.OUT)
The .OUT file is a text-based report generated by WHAMO.EXE containing:

Header with WHAMO version and project information
Echo of input file content
Computational results (pressure, flow, head values over time)
Analysis summary and warnings/errors

5. Error Handling

Validate that current network is complete before generating .OUT
Handle cases where WHAMO.EXE execution fails
Display user-friendly error messages
Log errors for debugging

6. File Naming Convention

.INP file: [ProjectName]_input.inp or use timestamp
.OUT file: [ProjectName]_output.out or use timestamp
Example: HL012_20260211_143052.out

7. User Experience Enhancements (Optional but Recommended)

Show loading spinner/progress indicator while WHAMO.EXE is processing
Display estimated processing time (if determinable)
Add tooltip explaining what the "Generate .OUT" button does
Option to view .OUT file in browser before downloading
History/log of previously generated .OUT files

Technical Stack Context
Please adapt the implementation to the existing technology stack:

Frontend Framework: [React/Vue/Angular/Vanilla JS - please specify]
Backend: [Node.js/Python/PHP - please specify]
Build Tool: Replit environment
File Handling: Current approach for .INP file generation

Sample Files Provided

WHAMO.EXE - The executable engine
1.inp - Sample input file showing proper format
1_OUT.OUT - Sample output file showing expected results
1770789098324_image.png - Screenshot of current UI

Acceptance Criteria
✅ "Generate .OUT" button appears next to "Generate .INP" button
✅ Button is functional and triggers WHAMO.EXE processing
✅ System generates valid .INP file from current network state
✅ WHAMO.EXE executes successfully with the .INP file
✅ Generated .OUT file is automatically downloaded to user's computer
✅ .OUT file format matches the sample provided (1_OUT.OUT)
✅ Error handling provides clear feedback to users
✅ Process completes within reasonable time (< 30 seconds for typical networks)
Additional Notes

The WHAMO.EXE file is approximately 2MB in size
WHAMO is a legacy DOS/Windows executable that may require specific environment setup
Consider testing on different operating systems if deployment is cross-platform
Ensure WHAMO.EXE has proper execution permissions on the server
Consider implementing file size limits for generated .OUT files